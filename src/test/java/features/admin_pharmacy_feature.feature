@withdraval
Feature: Манипуляции администратора с аптеками

    Background:
    Given Администратор авторизован в системе
    And Администратор находится в панели управления
    And Переходит в раздел "Аптеки"

    @success
    Scenario Outline: Добавление новой аптеки в систему
        When Администратор нажимает кнопку "Добавить аптеку"
        And Администратор заполняет "<адрес>" и "<номер_телефона>"
        And Нажимает кнопку "Сохранить"
        Then Отображается сообщение "Аптека добавлена"
        And Новая аптека отображается в списке пунктов выдачи на сайте
        Examples
		| адрес                            | номер_телефона |
        | г. Рязань, ул. Циолковского, 5к1 | 74950000001    |


    @success
    Scenario Outline: Изменение номера телефона аптеки
        Given Аптека по адресу "<адрес>" существует в системе
        When Администратор нажимает на кнопку "Редактировать" для этой аптеки
        And Меняет номер телефона на "<номер_телефона>"
        And Нажимает кнопку "Сохранить"
        Then Отображается сообщение "Изменения сохранены"
        And На сайте для данной аптеки отображается новый номер телефона "<номер_телефона>"
		Examples
			| адрес                            | номер_телефона |
			| г. Рязань, ул. Циолковского, 5к1 | 74950000001    |

    @success
    Scenario Outline: Удаление аптеки из системы
        Given Аптека по адресу "<адрес>" существует в системе
        When Администратор нажимает на кнопку "Удалить" для этой аптеки
        And Подтверждает удаление в диалоговом окне
        Then Отображается сообщение "Аптека удалена"
        And Данная аптека больше не отображается в списке пунктов выдачи на сайте
		Examples
			| адрес    						   | номер_телефона |
			| г. Рязань, ул. Циолковского, 5к1 | 74950000001 	|

    @fail
    Scenario Outline: Неуспешное добавление аптеки - пустые поля
        When Администратор нажимает кнопку "Добавить аптеку"
        And Администратор заполняет "<адрес>" и "<номер_телефона>"
        And Нажимает кнопку "Сохранить"
        Then Отображается сообщение об ошибке "Заполните обязательные поля: <пустые_поля>"
        Examples
        | адрес                            | номер_телефона | пустые_поля      |
        |                                  | 74950000001    | адрес            |
        | г. Рязань, ул. Циолковского, 5к1 |                | номер_телефона   |
        |                                  |                | адрес, телефон   |

    @fail
    Scenario Outline: Неуспешное добавление аптеки - неверный формат телефона
        When Администратор нажимает кнопку "Добавить аптеку"
        And Администратор заполняет "<адрес>" и "<номер_телефона>"
        And Нажимает кнопку "Сохранить"
        Then Отображается сообщение об ошибке "Неверный формат номера телефона"
        Examples
        | адрес                            | номер_телефона |
        | г. Рязань, ул. Циолковского, 5к1 | 7495000000     |
        | г. Рязань, ул. Циолковского, 5к1 | 749500000012   |
        | г. Рязань, ул. Циолковского, 5к1 | abcdefghijk    |