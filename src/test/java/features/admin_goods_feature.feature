@withdraval
Feature: Манипулирование администратора с товарами

    Background:
    Given Администратор авторизован в системе
    And Администратор находится в панели управления

    @success
    Scenario Outline: Добавление нового товара в базу
        When Администратор переходит в раздел "Товары"
        And Нажимает кнопку "Добавить товар"
        And Администратор вводит "<название>", "<категория>", "<цена>", "<описание>" и "<количество_на_складе>"
        And Нажимает кнопку "Сохранить"
        Then Отображается сообщение "Товар успешно добавлен"
        Examples:
            | название | категория       |  цена |            описание       | количество_на_складе |
            | Нурофен  |  Жаропонижающие |  500  |    Описание нового товара |         50           |

// проверка валидации
// производители


    @success
    Scenario Outline: Изменение информации о товаре
        Given Товар "<название>" существует в системе
        When Администратор находит товар "<название>" в списке
        And Нажимает на кнопку "Редактировать"
        And Меняет цену на "<цена>"
        And Нажимает кнопку "Сохранить"
        Then Отображается сообщение "Изменения сохранены"
        And На сайте для пользователей у товара "<название>" отображается цена "<цена>"
        Examples:
            | название | цена        |
            | Нурофен  |   500       |


    @success
    Scenario Outline: Удаление товара из базы
        Given Товар "<название>" существует в системе
        When Администратор находит товар "<название>" в списке
        And Нажимает на кнопку "Удалить"
        And Подтверждает удаление в диалоговом окне
        Then Отображается сообщение "Товар удален"
        And Товар "<название>" больше не отображается в результатах поиска для пользователей

    @fail
    Scenario Outline: Неуспешное добавление товара - пустые обязательные поля
        When Администратор переходит в раздел "Товары"
        And Нажимает кнопку "Добавить товар"
        And Администратор вводит "<название>", "<категория>", "<цена>", "<описание>" и "<количество_на_складе>"
        And Нажимает кнопку "Сохранить"
        Then Отображается сообщение об ошибке "Заполните обязательные поля: <пустые_поля>"
        Examples:
            | название | категория | цена | описание | количество_на_складе | пустые_поля          |
            |          | Лекарства | 500  | Описание | 50                   | название             |
            | Нурофен  |           | 500  | Описание | 50                   | категория            |
            | Нурофен  | Лекарства |      | Описание | 50                   | цена                 |
            | Нурофен  | Лекарства | 500  | Описание |                      | количество_на_складе |

    @fail
    Scenario Outline: Неуспешное добавление товара - неверный формат данных
        When Администратор переходит в раздел "Товары"
        And Нажимает кнопку "Добавить товар"
        And Администратор вводит "<название>", "<категория>", "<цена>", "<описание>" и "<количество_на_складе>"
        And Нажимает кнопку "Сохранить"
        Then Отображается сообщение об ошибке "Неверный формат данных: <поле_с_ошибкой>"
        Examples:
            | название | категория | цена | описание | количество_на_складе | поле_с_ошибкой |
            | Нурофен  | Лекарства | -100 | Описание | 50                   | цена           |
            | Нурофен  | Лекарства | 500  | Описание | -10                  | количество     |